<mat-card>

    <mat-card-content>

        <form 
            action=""
            class="user-form"
            #userForm = "ngForm"
            appPasswordConfirmationValidator
            >

            <div class="user-form__row">

                <mat-form-field class="user-form__item">

                    <mat-label>
                        Name:
                    </mat-label>

                    <input 
                        type="text"
                        name="nameInput"
                        [(ngModel)] = "userSelected.name"
                        matInput
                        #NameInput="ngModel"
                        required
                    
                    >

                    <mat-hint>Fill the field above</mat-hint>
                    <mat-error>It must contain at least 1 char</mat-error>


                </mat-form-field>


            

            </div>


            <div class="user-form__row">

                <mat-form-field class="user-form__item">

                    <mat-label>
                        Usu√°rio:
                    </mat-label>


                    <input 
                        type="text"
                        name="userInput"
                        matInput
                        [appCredentialsValidator]="'username'"
                        [(ngModel)] = "userSelected.username"
                        [ngModelOptions] = "{ updateOn: 'blur' }"
                        #UserInput = "ngModel"
                        required
                        
                        >
                    <mat-hint>The user will be used to login</mat-hint>
                    <mat-error>User must be informed</mat-error>



                </mat-form-field>



                <mat-form-field class="user-form__item">

                    <mat-label>
                        Email:
                    </mat-label>


                    <input 
                        type="text"
                        name="emailInput"
                        matInput
                        appEmailInputValidator
                        [appCredentialsValidator]="'email'"
                        [(ngModel)] = "userSelected.email"
                        [ngModelOptions] = "{ updateOn: 'blur' }"
                        #EmailInput = "ngModel"
                        required
                        
                        >
                    <mat-hint>Fill the field with an email</mat-hint>
                    
                    <mat-error *ngIf="EmailInput.hasError('required')">An email must be informed</mat-error>
                    <mat-error *ngIf="EmailInput.hasError('invalidEmail') && !EmailInput.hasError('required')">This email is invalid, please type another</mat-error>
                    <mat-error *ngIf="EmailInput.hasError('invalidAlreadyEmail') && !EmailInput.hasError('required')">This email is already being used, please type another</mat-error>



                </mat-form-field>

            </div>


            <div class="user-form__row">

                <mat-form-field class="user-form__item">

                    <mat-label>
                        Password:
                    </mat-label>


                    <input 
                        type="password"
                        name="passwordInput"
                        matInput
                        [(ngModel)] = "userSelected.password"
                        (ngModelChange) = "onPasswordChange($event)"
                        [ngModelOptions] = "{ updateOn: 'change'}"
                        #PasswordFormControl = "ngModel"
                        appPasswordStrengthValidator
                        required
                    
                    >

                    <mat-progress-bar 
                        mode="determinate"
                        [value]="passwordValue"
                        [ngClass]="{
                            'weak-password': passwordValue === 0 || passwordValue === 30,
                            'medium-password': passwordValue === 60,
                            'strong-password': passwordValue === 100
                        }"
                    >
                    </mat-progress-bar>


                    <mat-hint>Inform a strong password</mat-hint>
                    <mat-error *ngIf="PasswordFormControl.hasError('required')">Please type a password</mat-error>
                    <mat-error *ngIf="PasswordFormControl.hasError('invalidPassword')">Please type <strong>stronger</strong> password</mat-error>

                </mat-form-field>



                <mat-form-field class="user-form__item">

                    <mat-label>
                        Cofirm password:
                    </mat-label>

                    <input 
                        type="text"
                        name="ConfirmPasswordInput"
                        matInput
                        ngModel
                        [ngModelOptions] = "{ updateOn: 'change'}"
                        #ConfirmPasswordFormControl = "ngModel"
                        required


                    >

                    <mat-hint>Confirm the password</mat-hint>
                    <mat-error *ngIf="ConfirmPasswordFormControl.hasError('required')">The password confirmation must be informed</mat-error>
                    <mat-error *ngIf="ConfirmPasswordFormControl.hasError('appPasswordConfirmationValidator') && !ConfirmPasswordFormControl.hasError('required')">The password needs to be the same as the typed before</mat-error>

                </mat-form-field>



            </div>



        </form>


    </mat-card-content>



</mat-card>